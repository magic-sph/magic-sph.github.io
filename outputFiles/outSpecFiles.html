<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Spectra &#8212; Magic 5.6 documentation</title>
    
    <link rel="stylesheet" href="../_static/magic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Magic 5.6 documentation" href="../contents.html" />
    <link rel="up" title="Output files" href="outFiles.html" />
    <link rel="next" title="Graphic files G_#.TAG and G_ave.TAG" href="outGraph.html" />
    <link rel="prev" title="Transport properties of the reference state" href="outTransportProp.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
    <script src="galleria/galleria-1.4.2.min.js"></script>
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
  </style>
  <script type="text/javascript">
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

  </head>
  <body role="document">
<div class="pageheader">
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="../install.html">Get it/Run it</a></li>
    <li><a href="../contribute.html">Contribute!</a></li>
    <li><a href="../numerics.html">Numerical methods</a></li>
    <li><a href="../contents.html">Contents</a></li>
  </ul>
  <div>
    <a href="../index.html">
      <img src="../_static/logo.png" alt="magic" height="120px" width="192px"/>
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../f-modindex.html" title="Fortran Module Index"
             >fortran modules</a> |</li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="outGraph.html" title="Graphic files G_#.TAG and G_ave.TAG"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="outTransportProp.html" title="Transport properties of the reference state"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../contents.html">Magic 5.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="outFiles.html" accesskey="U">Output files</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="spectra">
<span id="secspecfiles"></span><h1>Spectra<a class="headerlink" href="#spectra" title="Permalink to this headline">¶</a></h1>
<div class="section" id="kin-spec-tag">
<span id="seckinspecfile"></span><h2><code class="docutils literal"><span class="pre">kin_spec_#.TAG</span></code><a class="headerlink" href="#kin-spec-tag" title="Permalink to this headline">¶</a></h2>
<p>This file contains the kinetic energy spectra. This file is written by the
subroutine <a class="reference internal" href="../apiFortran/IOGeneral.html#f/spectra/spectrum" title="f/spectra/spectrum"><code class="xref f f-subr docutils literal"><span class="pre">spectrum</span></code></a>.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">No. of column</th>
<th class="head">Contents</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>degree / order</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Poloidal kinetic energy versus degree</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Poloidal kinetic energy versus order</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>Toroidal kinetic energy versus degree</td>
</tr>
<tr class="row-even"><td>5</td>
<td>Toroidal kinetic energy versus order</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>This file can be read using <a class="reference internal" href="../apiPython/spectra.html#magic.MagicSpectrum" title="magic.MagicSpectrum"><code class="xref py py-class docutils literal"><span class="pre">MagicSpectrum</span></code></a> with the following options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span> <span class="o">=</span> <span class="n">MagicSpectrum</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s1">&#39;ekin&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="mag-spec-tag">
<span id="secmagspecfile"></span><h2><code class="docutils literal"><span class="pre">mag_spec_#.TAG</span></code><a class="headerlink" href="#mag-spec-tag" title="Permalink to this headline">¶</a></h2>
<p>This file contains the magnetic energy spectra. This file is written by the
subroutine <a class="reference internal" href="../apiFortran/IOGeneral.html#f/spectra/spectrum" title="f/spectra/spectrum"><code class="xref f f-subr docutils literal"><span class="pre">spectrum</span></code></a>.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">No. of column</th>
<th class="head">Contents</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>degree / order</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Poloidal magnetic energy in the outer core versus degree</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Poloidal magnetic energy in the outer core versus order</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>Toroidal magnetic energy in the outer core versus degree</td>
</tr>
<tr class="row-even"><td>5</td>
<td>Toroidal magnetic energy in the outer core versus order</td>
</tr>
<tr class="row-odd"><td>6</td>
<td>Poloidal magnetic energy in the inner core versus degree</td>
</tr>
<tr class="row-even"><td>7</td>
<td>Poloidal magnetic energy in the inner core versus order</td>
</tr>
<tr class="row-odd"><td>8</td>
<td>Toroidal magnetic energy in the inner core versus degree</td>
</tr>
<tr class="row-even"><td>9</td>
<td>Toroidal magnetic energy in the inner core versus order</td>
</tr>
<tr class="row-odd"><td>10</td>
<td>Poloidal magnetic energy at the CMB versus degree</td>
</tr>
<tr class="row-even"><td>11</td>
<td>Poloidal magnetic energy at the CMB versus order</td>
</tr>
<tr class="row-odd"><td>12</td>
<td>Poloidal magnetic energy at the CMB</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>This file can be read using <a class="reference internal" href="../apiPython/spectra.html#magic.MagicSpectrum" title="magic.MagicSpectrum"><code class="xref py py-class docutils literal"><span class="pre">MagicSpectrum</span></code></a> with the following options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span> <span class="o">=</span> <span class="n">MagicSpectrum</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s1">&#39;emag&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="u2-spec-tag">
<span id="secu2specfile"></span><h2><code class="docutils literal"><span class="pre">u2_spec_#.TAG</span></code><a class="headerlink" href="#u2-spec-tag" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This file is <strong>only</strong> written in anelastic models, i.e. either when
<a class="reference internal" href="../inputNamelists/physNamelist.html#varstrat"><span class="std std-ref">strat/=0</span></a> or when <a class="reference internal" href="../inputNamelists/physNamelist.html#varinterior-model"><span class="std std-ref">interior_model/=&#8221;None&#8221;</span></a></p>
</div>
<p>This file contains the spectra of the square velocity. This file is written by the
subroutine <a class="reference internal" href="../apiFortran/IOGeneral.html#f/spectra/spectrum" title="f/spectra/spectrum"><code class="xref f f-subr docutils literal"><span class="pre">spectrum</span></code></a>.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">No. of column</th>
<th class="head">Contents</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>degree / order</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Poloidal contribution per degree in the outer core</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Poloidal contribution per order in the outer core</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>Toroidal contribution per degree in the outer core</td>
</tr>
<tr class="row-even"><td>5</td>
<td>Toroidal contribution per order in the outer core</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>This file can be read using <a class="reference internal" href="../apiPython/spectra.html#magic.MagicSpectrum" title="magic.MagicSpectrum"><code class="xref py py-class docutils literal"><span class="pre">MagicSpectrum</span></code></a> with the following options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To read the file ``u2_spec_1.test``:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span> <span class="o">=</span> <span class="n">MagicSpectrum</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s1">&#39;u2&#39;</span><span class="p">,</span> <span class="n">ispec</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="t-spec-tag">
<span id="sectspecfile"></span><h2><code class="docutils literal"><span class="pre">T_spec_#.TAG</span></code><a class="headerlink" href="#t-spec-tag" title="Permalink to this headline">¶</a></h2>
<p>This file contains the temperature/entropy spectra. It is written by the subroutine
<a class="reference internal" href="../apiFortran/IOGeneral.html#f/spectra/spectrum_temp" title="f/spectra/spectrum_temp"><code class="xref f f-subr docutils literal"><span class="pre">spectrum_temp</span></code></a>.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">No. of column</th>
<th class="head">Contents</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>degree / order</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>RMS temperature/entropy versus degree</td>
</tr>
<tr class="row-even"><td>3</td>
<td>RMS temperature/entropy versus order</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>RMS temperature/entropy at the ICB versus degree</td>
</tr>
<tr class="row-even"><td>5</td>
<td>RMS temperature/entropy at the ICB versus order</td>
</tr>
<tr class="row-odd"><td>6</td>
<td>RMS radial derivative of temperature/entropy at the ICB
versus degree</td>
</tr>
<tr class="row-even"><td>7</td>
<td>RMS radial derivative of temperature/entropy at the ICB
versus order</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="d-spectra-2d-kin-mag-u2-spec-tag">
<span id="sec2dspectra"></span><h2>2D spectra <cite>[2D_kin|mag|u2_spec]_#.TAG</cite><a class="headerlink" href="#d-spectra-2d-kin-mag-u2-spec-tag" title="Permalink to this headline">¶</a></h2>
<p>Those files contain 2-D spectra in the <span class="math">\((r,\ell)\)</span> and in the
<span class="math">\((r,m)\)</span> planes.  In other words, the poloidal and toroidal energies
versus degree <span class="math">\(\ell\)</span> or versus order <span class="math">\(m\)</span> are computed for all
radii. There are three kinds of those files that correspond to the
aforementioned spectra, namely <strong>2D_kin_spec_#.TAG</strong>, <strong>2D_mag_spec_#.TAG</strong>
and <strong>2D_u2_spec_#.TAG</strong>. The calculations are done in the subroutine
<a class="reference internal" href="../apiFortran/IOGeneral.html#f/spectra/spectrum" title="f/spectra/spectrum"><code class="xref f f-subr docutils literal"><span class="pre">spectrum</span></code></a>. The structure of the output files
are same for these three outputs. They are stored as fortran unformatted files.</p>
<p>Unformatted files are not directly human readable, and are used to store binary
data and move it around without changing the internal representation. In
fortran, the open, read and write operations for these files are performed as follows:</p>
<div class="highlight-fortran"><div class="highlight"><pre><span></span><span class="k">open</span><span class="p">(</span><span class="n">unit</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="k">file</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">form</span><span class="o">=</span><span class="s1">&#39;unformatted&#39;</span><span class="p">)</span>
<span class="k">read</span><span class="p">(</span><span class="n">unit</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span> <span class="n">readVar</span>
<span class="k">write</span><span class="p">(</span><span class="n">unit</span><span class="o">=</span><span class="n">n_out</span><span class="p">,</span> <span class="n">iostat</span><span class="o">=</span><span class="n">ios</span><span class="p">)</span> <span class="n">writeVar</span> <span class="c">!Unformatted write</span>
</pre></div>
</div>
<p>The structure of the 2D spectra files are as follows:</p>
<blockquote>
<div><div class="highlight-fortran"><div class="highlight"><pre><span></span><span class="c">!-------------</span>
<span class="c">! Line 1</span>
<span class="c">!-------------</span>

<span class="nb">time</span><span class="p">,</span> <span class="n">n_r_max</span><span class="p">,</span> <span class="n">l_max</span><span class="p">,</span> <span class="n">minc</span> <span class="c">! Time, resolution, max(\ell), azimuthal symmetry</span>

<span class="c">!-------------</span>
<span class="c">! Line 2</span>
<span class="c">!-------------</span>

<span class="n">r</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">r</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">r</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="p">...,</span> <span class="n">r</span><span class="p">(</span><span class="n">n_r_max</span><span class="p">)</span>                  <span class="c">! Radius</span>

<span class="c">!-------------</span>
<span class="c">! Line 3</span>
<span class="c">!-------------</span>

<span class="n">e_p_l</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">e_p_l</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="p">...,</span> <span class="n">e_p_l</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="n">n_r_max</span><span class="p">),</span>      <span class="c">! Poloidal energy</span>
<span class="p">...</span>                                                             <span class="c">! versus degree</span>
<span class="n">e_p_l</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="n">l_max</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">e_p_l</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="n">l_max</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="p">...,</span> <span class="n">e_p_l</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="n">l_max</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="n">n_r_max</span><span class="p">),</span>

<span class="c">!-------------</span>
<span class="c">! Line 4</span>
<span class="c">!-------------</span>

<span class="n">e_p_m</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">e_p_l</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="p">...,</span> <span class="n">e_p_l</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="n">n_r_max</span><span class="p">),</span>      <span class="c">! Poloidal energy</span>
<span class="p">...</span>                                                             <span class="c">! versus order</span>
<span class="n">e_p_l</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="n">l_max</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">e_p_l</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="n">l_max</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="p">...,</span> <span class="n">e_p_l</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="n">l_max</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="n">n_r_max</span><span class="p">),</span>

<span class="c">!-------------</span>
<span class="c">! Line 3</span>
<span class="c">!-------------</span>

<span class="n">e_t_l</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">e_t_l</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="p">...,</span> <span class="n">e_t_l</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="n">n_r_max</span><span class="p">),</span>      <span class="c">! Toroidal energy</span>
<span class="p">...</span>                                                             <span class="c">! versus degree</span>
<span class="n">e_t_l</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="n">l_max</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">e_t_l</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="n">l_max</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="p">...,</span> <span class="n">e_t_l</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="n">l_max</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="n">n_r_max</span><span class="p">),</span>

<span class="c">!-------------</span>
<span class="c">! Line 4</span>
<span class="c">!-------------</span>

<span class="n">e_t_m</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">e_t_l</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="p">...,</span> <span class="n">e_t_l</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="n">n_r_max</span><span class="p">),</span>      <span class="c">! Toroidal energy</span>
<span class="p">...</span>                                                             <span class="c">! versus order</span>
<span class="n">e_t_l</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="n">l_max</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">e_t_l</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="n">l_max</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="p">...,</span> <span class="n">e_t_l</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="n">l_max</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="n">n_r_max</span><span class="p">),</span>
</pre></div>
</div>
</div></blockquote>
<p>Those files can be read using the python class <a class="reference internal" href="../apiPython/spectra.html#magic.MagicSpectrum2D" title="magic.MagicSpectrum2D"><code class="xref py py-class docutils literal"><span class="pre">MagicSpectrum2D</span></code></a> with
the following options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read the file 2D_mag_spec_3.ext</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span> <span class="o">=</span> <span class="n">MagicRSpec</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="s1">&#39;ext&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="n">e_mag</span><span class="s1">&#39;, ispec=3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Print e_pol_l and e_tor_m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">e_pol_l</span><span class="p">,</span> <span class="n">sp</span><span class="o">.</span><span class="n">e_tor_m</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="kin-spec-ave-tag">
<span id="seckinspecavefile"></span><h2><code class="docutils literal"><span class="pre">kin_spec_ave.TAG</span></code><a class="headerlink" href="#kin-spec-ave-tag" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This file is <strong>only</strong> written when <a class="reference internal" href="../inputNamelists/outputNamelist/outputNmlStd.html#varl-average"><span class="std std-ref">l_average=.true.</span></a></p>
</div>
<p>This file contains the time-average kinetic energy spectra as well as squared quantities
to allow a possible further reconstruction of the standard deviation.
This file is written by the subroutine <a class="reference internal" href="../apiFortran/IOGeneral.html#f/spectra/spectrum_average" title="f/spectra/spectrum_average"><code class="xref f f-subr docutils literal"><span class="pre">spectrum_average</span></code></a>.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">No. of column</th>
<th class="head">Contents</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>degree / order</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Time-averaged poloidal kinetic energy versus degree</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Time-averaged poloidal kinetic energy versus order</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>Time-averaged toroidal kinetic energy versus degree</td>
</tr>
<tr class="row-even"><td>5</td>
<td>Time-averaged toroidal kinetic energy versus order</td>
</tr>
<tr class="row-odd"><td>6</td>
<td>Time-averaged poloidal kinetic energy square versus degree</td>
</tr>
<tr class="row-even"><td>7</td>
<td>Time-averaged poloidal kinetic energy square versus order</td>
</tr>
<tr class="row-odd"><td>8</td>
<td>Time-averaged toroidal kinetic energy square versus degree</td>
</tr>
<tr class="row-even"><td>9</td>
<td>Time-averaged toroidal kinetic energy square versus order</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>This file can be read using <a class="reference internal" href="../apiPython/spectra.html#magic.MagicSpectrum" title="magic.MagicSpectrum"><code class="xref py py-class docutils literal"><span class="pre">MagicSpectrum</span></code></a> with the following options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To read the file ``kin_spec_ave.test``:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span> <span class="o">=</span> <span class="n">MagicSpectrum</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s1">&#39;kin&#39;</span><span class="p">,</span> <span class="n">ave</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="mag-spec-ave-tag">
<span id="secmagspecavefile"></span><h2><code class="docutils literal"><span class="pre">mag_spec_ave.TAG</span></code><a class="headerlink" href="#mag-spec-ave-tag" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This file is <strong>only</strong> written when <a class="reference internal" href="../inputNamelists/outputNamelist/outputNmlStd.html#varl-average"><span class="std std-ref">l_average=.true.</span></a> and
the run is magnetic</p>
</div>
<p>This file contains the time-average magnetic energy spectra. This file is written by the
subroutine <a class="reference internal" href="../apiFortran/IOGeneral.html#f/spectra/spectrum_average" title="f/spectra/spectrum_average"><code class="xref f f-subr docutils literal"><span class="pre">spectrum_average</span></code></a>.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">No. of column</th>
<th class="head">Contents</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>degree / order</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Time-averaged poloidal magnetic energy in the outer core versus degree</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Time-averaged poloidal magnetic energy in the outer core versus order</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>Time-averaged toroidal magnetic energy in the outer core versus degree</td>
</tr>
<tr class="row-even"><td>5</td>
<td>Time-averaged toroidal magnetic energy in the outer core versus order</td>
</tr>
<tr class="row-odd"><td>6</td>
<td>Time-averaged poloidal magnetic energy at the CMB versus degree</td>
</tr>
<tr class="row-even"><td>7</td>
<td>Time-averaged poloidal magnetic energy at the CMB versus order</td>
</tr>
<tr class="row-odd"><td>8</td>
<td>Time-averaged poloidal magnetic energy in the outer core + its standard
deviation versus degree</td>
</tr>
<tr class="row-even"><td>9</td>
<td>Time-averaged poloidal magnetic energy in the outer core - its standard
deviation versus degree</td>
</tr>
<tr class="row-odd"><td>10</td>
<td>Time-averaged poloidal magnetic energy in the outer core + its standard
deviation versus order</td>
</tr>
<tr class="row-even"><td>11</td>
<td>Time-averaged poloidal magnetic energy in the outer core - its standard
deviation versus order</td>
</tr>
<tr class="row-odd"><td>12</td>
<td>Time-averaged toroidal magnetic energy in the outer core + its standard
deviation versus degree</td>
</tr>
<tr class="row-even"><td>13</td>
<td>Time-averaged toroidal magnetic energy in the outer core - its standard
deviation versus degree</td>
</tr>
<tr class="row-odd"><td>14</td>
<td>Time-averaged toroidal magnetic energy in the outer core + its standard
deviation versus order</td>
</tr>
<tr class="row-even"><td>15</td>
<td>Time-averaged toroidal magnetic energy in the outer core - its standard
deviation versus order</td>
</tr>
<tr class="row-odd"><td>16</td>
<td>Time-averaged poloidal magnetic energy at the CMB + its standard
deviation versus order</td>
</tr>
<tr class="row-even"><td>17</td>
<td>Time-averaged poloidal magnetic energy at the CMB - its standard
deviation versus order</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>This file can be read using <a class="reference internal" href="../apiPython/spectra.html#magic.MagicSpectrum" title="magic.MagicSpectrum"><code class="xref py py-class docutils literal"><span class="pre">MagicSpectrum</span></code></a> with the following options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To read the file ``mag_spec_ave.test``:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span> <span class="o">=</span> <span class="n">MagicSpectrum</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s1">&#39;mag&#39;</span><span class="p">,</span> <span class="n">ave</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="t-spec-ave-tag">
<span id="sectempspecavefile"></span><h2><code class="docutils literal"><span class="pre">T_spec_ave.TAG</span></code><a class="headerlink" href="#t-spec-ave-tag" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This file is <strong>only</strong> written when <a class="reference internal" href="../inputNamelists/outputNamelist/outputNmlStd.html#varl-average"><span class="std std-ref">l_average=.true.</span></a></p>
</div>
<p>This file contains the time-averaged temperature/entropy spectra and their standard
deviation. It is written by the subroutine <a class="reference internal" href="../apiFortran/IOGeneral.html#f/spectra/spectrum_temp_average" title="f/spectra/spectrum_temp_average"><code class="xref f f-subr docutils literal"><span class="pre">spectrum_temp_average</span></code></a>.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">No. of column</th>
<th class="head">Contents</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>Spherical harmonic degree</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Time-averaged RMS temperature/entropy versus degree</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Standard deviation of the temperature/entropy versus
degree</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>Time-averaged RMS temperature/entropy at the ICB versus
degree</td>
</tr>
<tr class="row-even"><td>5</td>
<td>Standard deviation of the temperature/entropy at the ICB
versus degree</td>
</tr>
<tr class="row-odd"><td>6</td>
<td>Time-averaged temperature/entropy gradient at the ICB
versus degree</td>
</tr>
<tr class="row-even"><td>7</td>
<td>Standard deviation of the temperature/entropy gradient
at the ICB  versus degree</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="d-spectra-am-kin-mag-pol-tor-tag">
<span id="sectimespectrafiles"></span><h2>2D spectra <cite>am_[kin|mag]_[pol|tor].TAG</cite><a class="headerlink" href="#d-spectra-am-kin-mag-pol-tor-tag" title="Permalink to this headline">¶</a></h2>
<p>Those files contain the time evolution of the poloidal and toroidal kinetic and
magnetic spectra for a given range of spherical harmonic orders <span class="math">\(m\)</span>.
There are four kinds of those files that correspond to the aforementioned
spectra, namely <strong>am_kin_pol.TAG</strong>, <strong>am_kin_tor.TAG</strong>, <strong>am_mag_pol.TAG</strong> and
<strong>am_mag_tor.TAG</strong>. The calculations are done in the subroutine
<a class="reference internal" href="../apiFortran/IOGeneral.html#f/spectra/get_amplitude" title="f/spectra/get_amplitude"><code class="xref f f-subr docutils literal"><span class="pre">get_amplitude</span></code></a>. The structure of the output
files is the same for the four outputs (fortran unformatted
files):</p>
<blockquote>
<div><div class="highlight-fortran"><div class="highlight"><pre><span></span><span class="c">!-------------</span>
<span class="c">! Line 1</span>
<span class="c">!-------------</span>

<span class="nb">time</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">e_p_m</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">t</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">e_p_m</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">t</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="p">...,</span> <span class="n">e_p_m</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="n">m_max_modes</span><span class="p">,</span><span class="n">t</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="p">...</span>

<span class="c">!-------------</span>
<span class="c">! Line N</span>
<span class="c">!-------------</span>

<span class="nb">time</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">N</span><span class="p">),</span> <span class="n">e_p_m</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">t</span><span class="o">=</span><span class="n">N</span><span class="p">),</span> <span class="n">e_p_m</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">t</span><span class="o">=</span><span class="n">N</span><span class="p">),</span> <span class="p">...,</span> <span class="n">e_p_m</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="n">m_max_modes</span><span class="p">,</span><span class="n">t</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>

<span class="p">...</span>
</pre></div>
</div>
</div></blockquote>
<p>Those files can be read using the python class <a class="reference internal" href="../apiPython/timeSeries.html#magic.MagicTs" title="magic.MagicTs"><code class="xref py py-class docutils literal"><span class="pre">MagicTs</span></code></a> with the following options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read the file am_mag_pol.ext</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">MagicTs</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s1">&#39;am_mag_pol&#39;</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s1">&#39;ext&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Print the time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ts</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Print the energy content in m=11 for all times</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ts</span><span class="o">.</span><span class="n">coeffs</span><span class="p">[:,</span> <span class="mi">11</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Spectra</a><ul>
<li><a class="reference internal" href="#kin-spec-tag"><code class="docutils literal"><span class="pre">kin_spec_#.TAG</span></code></a></li>
<li><a class="reference internal" href="#mag-spec-tag"><code class="docutils literal"><span class="pre">mag_spec_#.TAG</span></code></a></li>
<li><a class="reference internal" href="#u2-spec-tag"><code class="docutils literal"><span class="pre">u2_spec_#.TAG</span></code></a></li>
<li><a class="reference internal" href="#t-spec-tag"><code class="docutils literal"><span class="pre">T_spec_#.TAG</span></code></a></li>
<li><a class="reference internal" href="#d-spectra-2d-kin-mag-u2-spec-tag">2D spectra <cite>[2D_kin|mag|u2_spec]_#.TAG</cite></a></li>
<li><a class="reference internal" href="#kin-spec-ave-tag"><code class="docutils literal"><span class="pre">kin_spec_ave.TAG</span></code></a></li>
<li><a class="reference internal" href="#mag-spec-ave-tag"><code class="docutils literal"><span class="pre">mag_spec_ave.TAG</span></code></a></li>
<li><a class="reference internal" href="#t-spec-ave-tag"><code class="docutils literal"><span class="pre">T_spec_ave.TAG</span></code></a></li>
<li><a class="reference internal" href="#d-spectra-am-kin-mag-pol-tor-tag">2D spectra <cite>am_[kin|mag]_[pol|tor].TAG</cite></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="outTransportProp.html"
                        title="previous chapter">Transport properties of the reference state</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="outGraph.html"
                        title="next chapter">Graphic files <code class="docutils literal"><span class="pre">G_#.TAG</span></code> and <code class="docutils literal"><span class="pre">G_ave.TAG</span></code></a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/outputFiles/outSpecFiles.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../f-modindex.html" title="Fortran Module Index"
             >fortran modules</a> |</li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="outGraph.html" title="Graphic files G_#.TAG and G_ave.TAG"
             >next</a> |</li>
        <li class="right" >
          <a href="outTransportProp.html" title="Transport properties of the reference state"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../contents.html">Magic 5.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="outFiles.html" >Output files</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Thomas Gastine, Johannes Wicht, Ankit Barik, Lùcia Duarte.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.6.
    </div>
  </body>
</html>