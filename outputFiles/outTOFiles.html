<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>TO outputs &#8212; Magic 6.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/magic.css?v=a97dc138" />
    
    <script src="../_static/documentation_options.js?v=4b074805"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Magic 6.3 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Radial spectra rB[r|p]Spec.TAG" href="outRSpecFiles.html" />
    <link rel="prev" title="Poloidal and toroidal potentials at given depths" href="outCoeffFiles.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js"></script>
    <script src="galleria/galleria-1.4.2.min.js"></script>
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
  </style>
  <script type="text/javascript">
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="../install.html">Get it/Run it</a></li>
    <li><a href="../contribute.html">Contribute!</a></li>
    <li><a href="../numerics.html">Numerical methods</a></li>
    <li><a href="../contents.html">Contents</a></li>
  </ul>
  <div>
    <a href="../index.html">
      <img src="../_static/logo.png" alt="magic" height="120px" width="192px"/>
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../f-modindex.html" title="Fortran Module Index"
             >fortran modules</a> |</li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="outRSpecFiles.html" title="Radial spectra rB[r|p]Spec.TAG"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="outCoeffFiles.html" title="Poloidal and toroidal potentials at given depths"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../contents.html">Magic 6.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="outFiles.html" accesskey="U">Output files</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="docutils literal notranslate"><span class="pre">TO</span></code> outputs</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="to-outputs">
<span id="sectooutputfiles"></span><h1><code class="docutils literal notranslate"><span class="pre">TO</span></code> outputs<a class="headerlink" href="#to-outputs" title="Link to this heading">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These output files are <strong>only</strong> written when <a class="reference internal" href="../inputNamelists/outputNamelist/outputNmlTO.html#varl-to"><span class="std std-ref">l_TO=.true.</span></a></p>
</div>
<section id="tay-tag">
<span id="sectayfile"></span><h2><code class="docutils literal notranslate"><span class="pre">Tay.TAG</span></code><a class="headerlink" href="#tay-tag" title="Link to this heading">¶</a></h2>
<p>This file contains the time series of the Taylorization as well as some measures
of the relative geostrophic energy. It is written by the subroutine
<a class="reference internal" href="../apiFortran/IOAdd.html#f/outto_mod/outto" title="f/outto_mod/outto"><code class="xref f f-subr docutils literal notranslate"><span class="pre">outTO</span></code></a>.</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>No. of column</p></th>
<th class="head"><p>Contents</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>time</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Relative fraction of toroidal axisymmetric energy (squared)</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Relative fraction of geostrophic energy (squared)</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>Taylorization</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>A Taylorization measure based on Reynolds stresses</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>A Taylorization measure based on viscous stresses</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>Total kinetic energy computed on the cylindrical grid
(to estimate the accuracy of the method)</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>This file can be read using <a class="reference internal" href="../apiPython/timeSeries.html#magic.MagicTs" title="magic.MagicTs"><code class="xref py py-class docutils literal notranslate"><span class="pre">MagicTs</span></code></a> with
the following options:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To load the most recent &#39;Tay.TAG&#39; file in a directory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">MagicTs</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="s1">&#39;Tay&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="tonhs-tag-and-toshs-tag">
<h2><code class="docutils literal notranslate"><span class="pre">TOnhs.TAG</span></code> and <code class="docutils literal notranslate"><span class="pre">TOshs.TAG</span></code><a class="headerlink" href="#tonhs-tag-and-toshs-tag" title="Link to this heading">¶</a></h2>
<p>Those files correspond to the z-averaging of the axisymmetric phi component of the
Navier-Stokes equations. It contains the different cylindrical profiles of the
forces involved the zonal equation as well as some additional measures of the
Taylorization of the solution. shs corresponds to Southern Hemisphere (inside the
tangent cylinder), while nhs corresponds to Northern Hemisphere).</p>
<p>Those files can be read using <a class="reference internal" href="../apiPython/outTO.html#magic.MagicTOHemi" title="magic.MagicTOHemi"><code class="xref py py-class docutils literal notranslate"><span class="pre">MagicTOHemi</span></code></a> with
the following options:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To load &#39;TOshs.test&#39; and plot the time-averaged forces:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tos</span> <span class="o">=</span> <span class="n">MagicTOHemi</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">hemi</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">iplot</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="to-mov-tag-files">
<span id="secto-moviefile"></span><h2><code class="docutils literal notranslate"><span class="pre">TO_mov.TAG</span></code> files<a class="headerlink" href="#to-mov-tag-files" title="Link to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This file is <strong>only</strong> written when <a class="reference internal" href="../inputNamelists/outputNamelist/outputNmlTO.html#varl-tomovie"><span class="std std-ref">l_TOmovie=.true.</span></a></p>
</div>
<p>This file contains the time evolution of the different forces that enter the
phi-average of the azimuthal component of the Navier-Stokes equation. This is a
special kind of <a class="reference internal" href="outMovie.html#secmoviefile"><span class="std std-ref">movie file</span></a> that contains seven different
azimuthally-averaged fields in a <span class="math notranslate nohighlight">\((r,\theta)\)</span> plane : the axisymmetric
zonal flow component , the azimuthal component of the Reynolds stresses, the
azimuthal component of advection, the azimuthal component of viscosity, the
azimuthal component of Lorentz force, the azimuthal component of Coriolis force,
the azimuthal component of the penalty term (in case the phase field model is
employed) and the azimuthal component of the time-derivative. The structure of the file
is similar to a <a class="reference internal" href="outMovie.html#secmoviefile"><span class="std std-ref">movie file</span></a>, i.e. an unformatted fortran binary
file with a header that describes the type of the movie file. The detailed calculations
can be found in the subroutine <a class="reference internal" href="../apiFortran/IOAdd.html#f/outto_mod/outto" title="f/outto_mod/outto"><code class="xref f f-subr docutils literal notranslate"><span class="pre">outTO</span></code></a>.</p>
<p>On a whole, the structure of the file looks like follows:</p>
<blockquote>
<div><div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="c">!----------</span>
<span class="c">! Line 1</span>
<span class="c">!----------</span>

<span class="n">version</span>

<span class="c">!----------</span>
<span class="c">! Line 2</span>
<span class="c">!----------</span>

<span class="n">n_type</span><span class="p">,</span><span class="w"> </span><span class="n">n_surface</span><span class="p">,</span><span class="w"> </span><span class="n">const</span><span class="p">,</span><span class="w"> </span><span class="n">n_fields</span>

<span class="c">!----------</span>
<span class="c">! Line 3</span>
<span class="c">!----------</span>

<span class="n">runid</span>

<span class="c">!----------</span>
<span class="c">! Line 4</span>
<span class="c">!----------</span>

<span class="n">n_r_movie_max</span><span class="p">,</span><span class="w"> </span><span class="n">n_r_max</span><span class="p">,</span><span class="w"> </span><span class="n">n_theta_max</span><span class="p">,</span><span class="w"> </span><span class="n">n_phi_tot</span><span class="p">,</span><span class="w"> </span><span class="n">minc</span><span class="p">,</span><span class="w"> </span><span class="n">ra</span><span class="p">,</span><span class="w"> </span><span class="n">ek</span><span class="p">,</span><span class="w"> </span><span class="n">pr</span><span class="p">,</span>
<span class="n">prmag</span><span class="p">,</span><span class="w"> </span><span class="n">radratio</span><span class="p">,</span><span class="w"> </span><span class="n">tScale</span>

<span class="c">!----------</span>
<span class="c">! Line 5</span>
<span class="c">!----------</span>

<span class="n">r</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">r</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="p">...,</span><span class="w"> </span><span class="n">r</span><span class="p">(</span><span class="n">n_r_movie_max</span><span class="p">)</span>

<span class="c">!----------</span>
<span class="c">! Line 6</span>
<span class="c">!----------</span>

<span class="n">theta</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">theta</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="p">...,</span><span class="w"> </span><span class="n">theta</span><span class="p">(</span><span class="n">n_theta_max</span><span class="p">)</span>

<span class="c">!----------</span>
<span class="c">! Line 7</span>
<span class="c">!----------</span>

<span class="n">phi</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">phi</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="p">...,</span><span class="w"> </span><span class="n">phi</span><span class="p">(</span><span class="n">n_theta_max</span><span class="p">)</span>

<span class="p">...</span>

<span class="c">!----------</span>
<span class="c">! Line 7+N</span>
<span class="c">!----------</span>

<span class="n">n_frame</span><span class="p">,</span><span class="w"> </span><span class="n">t_movie</span><span class="p">(</span><span class="n">N</span><span class="p">),</span><span class="w"> </span><span class="n">omega_ic</span><span class="p">,</span><span class="w"> </span><span class="n">omega_ma</span><span class="p">,</span><span class="w"> </span><span class="n">dipLat</span><span class="p">,</span><span class="w"> </span><span class="n">dipLon</span><span class="p">,</span><span class="w"> </span><span class="n">dipStr</span><span class="p">,</span><span class="w"> </span><span class="n">dipStrGeo</span>

<span class="c">!----------</span>
<span class="c">! Line 7+(N+1)</span>
<span class="c">!----------</span>

<span class="n">vphi</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t_movie</span><span class="p">(</span><span class="n">N</span><span class="p">),</span><span class="n">phi</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">theta</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
<span class="n">vphi</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t_movie</span><span class="p">(</span><span class="n">N</span><span class="p">),</span><span class="n">phi</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">theta</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
<span class="p">...,</span>
<span class="n">vphi</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t_movie</span><span class="p">(</span><span class="n">N</span><span class="p">),</span><span class="n">phi</span><span class="o">=</span><span class="n">n_phi_max</span><span class="p">,</span><span class="n">theta</span><span class="o">=</span><span class="n">n_theta_max</span><span class="p">)</span>

<span class="c">!----------</span>
<span class="c">! Line 7+(N+2)</span>
<span class="c">!----------</span>

<span class="n">rey</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t_movie</span><span class="p">(</span><span class="n">N</span><span class="p">),</span><span class="n">phi</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">theta</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
<span class="n">rey</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t_movie</span><span class="p">(</span><span class="n">N</span><span class="p">),</span><span class="n">phi</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">theta</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
<span class="p">...,</span>
<span class="n">rey</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t_movie</span><span class="p">(</span><span class="n">N</span><span class="p">),</span><span class="n">phi</span><span class="o">=</span><span class="n">n_phi_max</span><span class="p">,</span><span class="n">theta</span><span class="o">=</span><span class="n">n_theta_max</span><span class="p">)</span>

<span class="p">...</span>

<span class="c">!----------</span>
<span class="c">! Line 7+(N+7)</span>
<span class="c">!----------</span>

<span class="n">dtVphi</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t_movie</span><span class="p">(</span><span class="n">N</span><span class="p">),</span><span class="n">phi</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">theta</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
<span class="n">dtVphi</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t_movie</span><span class="p">(</span><span class="n">N</span><span class="p">),</span><span class="n">phi</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">theta</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
<span class="p">...,</span>
<span class="n">dtVphi</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t_movie</span><span class="p">(</span><span class="n">N</span><span class="p">),</span><span class="n">phi</span><span class="o">=</span><span class="n">n_phi_max</span><span class="p">,</span><span class="n">theta</span><span class="o">=</span><span class="n">n_theta_max</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>This file can be read using <a class="reference internal" href="../apiPython/outTO.html#magic.TOMovie" title="magic.TOMovie"><code class="xref py py-class docutils literal notranslate"><span class="pre">TOMovie</span></code></a> with the following options:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To load &#39;TO_mov.test&#39; and time-average it:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to</span> <span class="o">=</span> <span class="n">TOMOvie</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;TO_mov.test&#39;</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">levels</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">cm</span><span class="o">=</span><span class="s1">&#39;seismic&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">TO</span></code> outputs</a><ul>
<li><a class="reference internal" href="#tay-tag"><code class="docutils literal notranslate"><span class="pre">Tay.TAG</span></code></a></li>
<li><a class="reference internal" href="#tonhs-tag-and-toshs-tag"><code class="docutils literal notranslate"><span class="pre">TOnhs.TAG</span></code> and <code class="docutils literal notranslate"><span class="pre">TOshs.TAG</span></code></a></li>
<li><a class="reference internal" href="#to-mov-tag-files"><code class="docutils literal notranslate"><span class="pre">TO_mov.TAG</span></code> files</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="outCoeffFiles.html"
                          title="previous chapter">Poloidal and toroidal potentials at given depths</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="outRSpecFiles.html"
                          title="next chapter">Radial spectra <code class="docutils literal notranslate"><span class="pre">rB[r|p]Spec.TAG</span></code></a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/outputFiles/outTOFiles.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../f-modindex.html" title="Fortran Module Index"
             >fortran modules</a> |</li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="outRSpecFiles.html" title="Radial spectra rB[r|p]Spec.TAG"
             >next</a> |</li>
        <li class="right" >
          <a href="outCoeffFiles.html" title="Poloidal and toroidal potentials at given depths"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../contents.html">Magic 6.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="outFiles.html" >Output files</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="docutils literal notranslate"><span class="pre">TO</span></code> outputs</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2023, Thomas Gastine, Johannes Wicht, Ankit Barik, Lùcia Duarte.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    </div>
  </body>
</html>